<!--
  This launch file initializes the kobuki with camera and map it in rviz, and detect the marker . 
 -->

<launch>
  <!--Access the camera publish the camera_info and image_row topics-->
  <node pkg="cv_camera" type="cv_camera_node_sync" name="camera1" output = "screen">
    <param name="selfID" value= "1" />    
    <param name="frame_id" value="camera1" />
    <param name="device_id" value= "1" />
    <param name="camera_info_url" value="$(find aruco_tool)/Param/camera1.xml"/>
    <param name="rate" value="30.0" />
    <param name="pubRate" value="5.0" />
    <param name="image_width" value="1280" />
    <param name="image_height" value="720" />
  </node>

  <node pkg="aruco_tool" type="arucoDetectionFake" name="arucoDetectorFake1" output = 'screen'>
    <param name="selfID" value= "1" />
    <rosparam command="load" file="$(find exp_setup)/param/markerIDs.yaml" />
    <param name="save_video" value="true" />
    <param name="track_point" value="true" />
    <param name="visualize_image" value="true" />
    <param name="saved_video_name" value="test_fake" />
    <param name="image_width" value="1280" />
    <param name="image_height" value="720" />
  </node>

  <node pkg="tracker" type="synchronizer" name= "synchronizer" output = "screen">
     <param name="frequency" value="5.0" />
     <param name="delay" value = "2.0" />
  </node>
</launch>
